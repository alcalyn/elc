{% extends "CoreBundle:Games:games.layout.html.twig" %}

{% block body %}
{{ parent() }}
<div class="row-game row">
	<div class="col-md-4">
		<img src="http://www.centresocial-lorette.fr/wp-content/uploads/2010/09/17954-Tatice-EchecsJeux.png" alt="echecs" />
	</div>
	<div class="col-md-8">
		<h2 class="game-title">{{ game.title }}</h2>
		<small class="nb-player"><span>{{ game.nbplayer }}</span> {{ '_.players'|trans }}</small>
		<div class="game-desc">
			<p>
				{{ game.longdesc }}
			</p>
		</div>
	</div>
</div>
<div class="row-action row">
	<div class="col-md-4">
        <p>{{ 'let.cpufindgametoplay'|trans }}</p>
		<p><a href="#" class="btn btn-primary btn-lg">{{ 'play.now'|trans }}</a></p>
	</div>
	<div class="col-md-4">
		<p>{{ 'join.party.amongthislist'|trans }}</p>
		<div class="list-group-container">
		  <a href="#" class="list-group-item">partie_de_machin<span class="badge">1548 élo</span></a>
		  <a href="#" class="list-group-item">partie1654141<span class="badge">1548 élo</span></a>
		  <a href="#" class="list-group-item">partie1654141<span class="badge">1548 élo</span></a>
		  <a href="#" class="list-group-item">partie1654141<span class="badge">1548 élo</span></a>
		  <a href="#" class="list-group-item">partie1654141<span class="badge">1548 élo</span></a>
		</div>
	</div>
	<div class="col-md-4">
		<p>{{ 'create.customized.game'|trans }}</p>
		<p><a href="{{ path('elcore_party_creation', {'slug': game.slug}) }}" class="btn btn-primary btn-lg">{{ 'create.game'|trans }}</a></p>
	</div>
</div>
<div class="row-rank row">
	<div class="col-md-12">
		<div class="panel panel-default">
			<div class="panel-heading"><h3>{{ 'ranking'|trans }}</h3></div>
			<table class="ranking table table-striped">
				<thead><tr>
					<th>#</th>
                    <th>{{ 'player'|trans }}</th>
                    {% if 'parties' in rankingColumns %}<th>{{ 'parties'|trans }}   </th>{% endif %}
                    {% if 'wins'    in rankingColumns %}<th>{{ 'wins'|trans }}      </th>{% endif %}
                    {% if 'losses'  in rankingColumns %}<th>{{ 'losses'|trans }}    </th>{% endif %}
                    {% if 'draws'   in rankingColumns %}<th>{{ 'draws'|trans }}     </th>{% endif %}
                    {% if 'ratio'   in rankingColumns %}<th>{{ 'ratio'|trans }}     </th>{% endif %}
                    {% if 'elo'     in rankingColumns %}<th>{{ 'elo'|trans }}       </th>{% endif %}
                    {% if 'score'   in rankingColumns %}<th>{{ 'score'|trans }}     </th>{% endif %}
				</tr></thead>
				<tbody>
                    {% for rank in ranking %}
                        <tr class="rank-gold">
                            <td>{{ loop.index }}</td>
                            <td><a href="#">{{ rank.player.pseudo }}</a></td>
                            {% if 'parties' in rankingColumns %}<td>{{ rank.wins + rank.losses + rank.draws }}</td>                             {% endif %}
                            {% if 'wins'    in rankingColumns %}<td>{{ rank.wins }}</td>                                                        {% endif %}
                            {% if 'losses'  in rankingColumns %}<td>{{ rank.losses }}</td>                                                      {% endif %}
                            {% if 'draws'   in rankingColumns %}<td>{{ rank.draws }}</td>                                                       {% endif %}
                            {% if 'ratio'   in rankingColumns %}<td>{{ rank.ratio|round(3) }}</td>                                              {% endif %}
                            {% if 'elo'     in rankingColumns %}<td title="{{ (rank.eloReliability * 100)|round }} %">{{ rank.elo|round }}</td> {% endif %}
                            {% if 'score'   in rankingColumns %}<td>{{ rank.points|round(2) }}</td>                                             {% endif %}
                        </tr>
                    {% endfor %}
				</tbody>
			</table>
		</div>
	</div>
</div>
{% endblock %}
