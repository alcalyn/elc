{% extends "ELCoreBundle::layout.html.twig" %}

{% block title %}{{ parent() }} - {{ 'games'|trans }}{% endblock %}

{% block body %}
<h2>{{ game.title }}</h2>
<p class="partie-title">{{ party.title }}</p>
<p class="host">Hôte : {{ party.host.pseudo }}</h2>
<hr />
<div class="row">
	<div class="col-md-6">
		<div class="slots">
            {% for slot in slots %}
                {% include 'ELCoreBundle:Slot:slot.html.twig' %}
                <br />
            {% endfor %}
			<div class="more-slot">
				<button class="btn btn-default" type="button">Ajouter un slot</button>
			</div>
		</div>
	</div>
	<div class="col-md-6">
		<div class="panel panel-default options">
			<div class="panel-heading">
				<h4 class="panel-title">Options de la partie</h4>
			</div>
			<div class="panel-body">
				<p>
					{% if not party.allowChat %}
						{{ 'chat.enabled'|trans }}
					{% endif %}
				</p>
				<p>
					{% if not party.allowObservers %}
						{{ 'observers.allowed'|trans }}
					{% endif %}
				</p>
				<p>
					{% if party.open %}
						{{ 'public.party'|trans }}
					{% else %}
						{{ 'private.party'|trans }}
					{% endif %}
				</p>
			</div>
		</div>
	</div>
</div>
<hr />
<div class="row">
    {% if in_party %}
    	{% if is_host %}
	        <div class="col-md-4">
	            <button type="button" class="btn btn-warning">{{ 'cancel'|trans }}</button>
	        </div>
	        <div class="col-md-4">
	            <button type="button" class="btn btn-primary">{{ 'run.party'|trans }}</button>
	        </div>
	    {% else %}
	        <div class="col-md-4">
	            <button type="button" class="btn btn-warning">{{ 'leave'|trans }}</button>
	        </div>
	        <div class="col-md-4">
	            <button type="button" class="btn btn-success">{{ 'ready'|trans }}</button>
	        </div>
	    {% endif %}
    {% else %}
        {% if can_join %}
            <div class="col-md-4 col-md-offset-4">
                <button type="button" class="btn btn-success">{{ 'join.party'|trans }}</button>
            </div>
        {% else %}
            <div class="col-md-4 col-md-offset-4">
                <p>{{ 'cannot.join.party.full'|trans }}</p>
            </div>
        {% endif %}
    {% endif %}
</div>
<hr />
<div class="row">
	<div class="col-md-12">
		<div class="panel panel-default chat">
			<div class="panel-heading">
				<h4 class="panel-title">Chat de la partie</h4>
			</div>
			<div class="panel-body">
				<ul>
					<li><span class="pseudo">robert60</span> : Bon salut, vous êtes prêt ?</li>
					<li><span class="pseudo">juju</span> : Message à rallonge Message à rallonge Message à rallonge Message à rallonge Message à rallonge Message à rallonge Message à rallonge </li>
					<li><span class="pseudo">robert60</span> : Bon salut, vous êtes prêt ?</li>
					<li><span class="pseudo">poloshow</span> : Aller go !</li>
				</ul>
			</div>
			<div class="panel-footer">
				<div class="input-group">
					<input type="text" class="form-control" placeholder="Message...">
					<span class="input-group-btn">
						<button class="btn btn-default" type="button">Envoyer</button>
					</span>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
